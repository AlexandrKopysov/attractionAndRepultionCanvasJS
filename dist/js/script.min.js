(()=>{const t=6,s=20,e=35,o=.002,i="rgba(250 , 10 , 30 , 0.9)",n=.65,a=300,h=120,r=2*Math.PI,l=document.getElementById("canvas"),d=l.getContext("2d");let c,p,w,m;class f{constructor(e){var n,a;this.pos={x:w.x,y:w.y},this.vel={x:0,y:0},this.rad=e||(n=t,a=s,Math.random()*(a-n)+n),this.mass=this.rad*o,this.color=i}draw(t,s){this.pos.x=t||this.pos.x+this.vel.x,this.pos.y=s||this.pos.y+this.vel.y,u(this.pos.x,this.pos.y,this.rad,!0,this.color),u(this.pos.x,this.pos.y,this.rad,!1,i)}}function u(t,s,e,o,i){d.fillStyle=d.strokeStyle=i,d.beginPath(),d.arc(t,s,e,0,r),d.closePath(),o?d.fill():d.stroke()}function v(){w.down=!w.down}c=l.width=innerWidth,p=l.height=innerHeight,w={x:c/2,y:p/2,down:!1},m=[],m.push(new f(e)),function t(){d.clearRect(0,0,c,p),w.down&&m.push(new f),function(){for(let t=1;t<m.length;t++){let s={x:0,y:0};for(let e=0;e<m.length;e++){if(t==e)continue;let[o,i]=[m[t],m[e]],n={x:i.pos.x-o.pos.x,y:i.pos.y-o.pos.y},r=Math.sqrt(n.x*n.x+n.y*n.y)||5,l=(r-a)/r*i.mass;if(0==e){let t=h/r;o.color=`rgba(250 , 10 , 30 , ${t}$)`,l=r<h?(r-h)*i.mass:o.mass}s.x+=n.x*l,s.y+=n.y*l}m[t].vel.x=m[t].vel.x*n+s.x*m[t].mass,m[t].vel.y=m[t].vel.y*n+s.y*m[t].mass}m.map(t=>t==m[0]?t.draw(w.x,w.y):t.draw())}(),window.requestAnimationFrame(t)}(),l.addEventListener("mousemove",t=>{x=t.offsetX,y=t.offsetY,[w.x,w.y]=[x,y]}),window.addEventListener("mousedown",v),window.addEventListener("mouseup",v)})();